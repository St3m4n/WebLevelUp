/* =========================
   ADMIN DARK THEME
   ========================= */
:root{
  --bg:#121212;
  --fg:#ffffff;
  --muted:#b0b0b0;
  --primary:#0d6efd;     /* Bootstrap primary */
  --success:#16a34a;
  --card:#1e1e1e;
  --border:#2a2a2a;
  --sidebar-bg:#181818;
  --sidebar-border:#2a2a2a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  background:var(--bg);
  color:var(--fg);
  font-family: "Roboto", system-ui, -apple-system, Segoe UI, Arial, sans-serif;
}

/* ========== Sidebar ========== */
.lup-brand{
  font-family:"Orbitron", ui-sans-serif, system-ui;
  letter-spacing:.3px;
  font-weight:700;
  font-size:1.25rem; /* aumentado para mejor presencia */
  color: var(--fg);
}
/* Si .lup-logo es IMG, usa altura fija; si es texto, puedes ajustar con font-size */
.lup-logo{
  height:48px; /* was 32px; +50% */
  width:auto;
  display:inline-block;
}
.lup-sidebar{
  width:260px;
  background: var(--sidebar-bg);
  border-right:1px solid var(--sidebar-border);
  height:100vh;            /* fijo al viewport */
  position:sticky;
  top:0;
  overflow:hidden;         /* evita que crezca; el menú hará scroll */
}
/* El listado del menú ocupa el espacio disponible y hace scroll si es necesario */
.lup-sidebar #lup-menu{
  flex:1 1 auto;
  overflow:auto;
}
.lup-sidebar .nav-link{
  color:#ffffff;
  border:1px solid transparent;
  border-radius:.5rem;
  padding:.5rem .75rem;
}
.lup-sidebar .nav-link:hover{
  color: #fff;
  background:#2a2a2a;
  border-color:#2f2f2f;
}
.lup-sidebar .nav-link.active{
  background: var(--primary);
  color: #fff;
  font-weight:600;
  border:none;
}

/* ========== Topbar ========== */
.lup-topbar{
  background:#181818 !important;
  border-color:var(--border) !important;
  box-shadow: 0 1px 0 rgba(0,0,0,.4);
  position: sticky;
  top: 0;
  z-index: 1020; /* above content, below modal */
}
.navbar-brand{color:#fff !important}

/* ========== Cards & containers ========== */
.lup-card,
.card{
  background: var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow: 0 1px 2px rgba(0,0,0,.3);
  color:#ffffff;            /* force text white inside cards */
  --bs-card-color:#ffffff;  /* bootstrap var for card text */
}
.card-title{font-weight:600; color:#ffffff}
.text-secondary{color:#ffffff!important}
.border-secondary{border-color:var(--border)!important}
.container.py-4{padding-top:1.25rem!important; padding-bottom:1.25rem!important}

/* List groups in dark theme */
.list-group { --bs-list-group-bg: #181818; --bs-list-group-color: #ffffff; }
.list-group-item{
  background-color:#181818;
  color:#ffffff;
  border-color: var(--border);
}
.list-group-item .small.text-muted{color:#cbd5e1 !important}
.list-group-item .badge{font-weight:600}
.text-bg-secondary{ background-color:#3a3f44 !important; color:#ffffff !important }

/* ========== Forms (dark theme refinement) ========== */
.form-label{font-weight:500; color: var(--fg) !important}
/* Base inputs/selects */
.form-control,
.form-select{
  background:#151515;
  color:#ffffff !important;
  border-color:#3a3a3a;
}
/* Checkboxes/Radios base */
.form-check-input{
  background-color:#111111;
  border-color:#3a3a3a;
}
/* Placeholders */
.form-control::placeholder{color:#9aa0a6; opacity:1}
/* Focus states */
.form-control:focus,
.form-select:focus,
.form-check-input:focus{
  color:#ffffff;
  background-color:#151515;
  border-color: var(--primary);
  box-shadow: 0 0 0 .2rem rgba(13,110,253,.25);
}
/* Disabled/readonly */
.form-control:disabled,
.form-control[readonly],
.form-select:disabled{
  background:#1a1a1a;
  color:#9ca3af;
  opacity:1;
}
.form-control:disabled::placeholder{color:#7a7a7a}
/* Input group */
.input-group-text{
  background:#1a1a1a;
  border-color:#3a3a3a;
  color:#ffffff;
}
/* Select dropdown arrow (light) */
.form-select{
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23e5e7eb' viewBox='0 0 16 16'%3e%3cpath d='M3.204 5.096a.5.5 0 0 1 .707 0L8 9.185l4.089-4.089a.5.5 0 0 1 .707.707l-4.442 4.442a.5.5 0 0 1-.708 0L3.204 5.803a.5.5 0 0 1 0-.707z'/%3e%3c/svg%3e");
  background-repeat:no-repeat;
  background-position:right .75rem center;
  background-size:16px 12px;
  padding-right:2.5rem;
}
/* Checks */
.form-check-input:checked{
  background-color: var(--primary);
  border-color: var(--primary);
}
.form-switch .form-check-input{background:#222}
.form-switch .form-check-input:checked{background-color: var(--primary)}
.form-check-label{color:#ffffff}
/* File input button */
.form-control[type="file"]{ color:#ffffff }
.form-control[type="file"]::file-selector-button{
  color:#e5e7eb;
  background:#222;
  border:1px solid #3a3a3a;
}
.form-control[type="file"]::file-selector-button:hover{ background:#2a2a2a }
/* Floating labels */
.form-floating>.form-control,
.form-floating>.form-select{ background:#151515; color:#ffffff }
.form-floating>label{ color:#ffffff }
.form-floating>.form-control:focus~label,
.form-floating>.form-control:not(:placeholder-shown)~label,
.form-floating>.form-select~label{ color:#ffffff }
/* Validation feedback */
.is-invalid{border-color:#dc3545!important}
.is-valid{border-color:#198754!important}
.invalid-feedback{color:#fca5a5}
.valid-feedback{color:#86efac}
.form-text{color:#ffffff}
/* Ensure modal dark inputs keep readable placeholders and help text */
.modal-content.bg-dark .form-control::placeholder{color:#9aa0a6; opacity:1}
.modal-content.bg-dark .form-text{color:#cbd5e1}
/* Autofill fix on dark */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill{
  -webkit-text-fill-color:#ffffff;
  -webkit-box-shadow: 0 0 0px 1000px #151515 inset;
  box-shadow: 0 0 0px 1000px #151515 inset;
  transition: background-color 5000s ease-in-out 0s;
}

/* ========== Buttons ========== */
.btn-primary{
  background: var(--primary);
  border:1px solid var(--primary);
  font-weight:600;
}
.btn-outline-light{
  color:#ffffff;
  border-color:#4b5563;
  background:transparent;
}
.btn-outline-secondary{
  color:#ffffff;
  border-color:#4b5563;
}
.btn-outline-light:hover{background:#2a2a2a;border-color:#6b7280;color:#ffffff}
.btn-outline-secondary:hover{background:#2a2a2a;border-color:#6b7280;color:#ffffff}
.btn-success{
  background: var(--success);
  border:1px solid var(--success);
  font-weight:600;
}

/* ========== Tables (claras) ========== */
.table{--bs-table-bg: #181818; color:#ffffff}
.table > :not(caption) > * > *{border-color: var(--border) !important}
.table thead tr{background:#202020}
.table thead th{
  border-bottom:2px solid var(--border);
  color:#ffffff;
  font-weight:700;
}
.table-striped>tbody>tr:nth-of-type(odd){--bs-table-accent-bg: #1f1f1f}
.table tbody tr:hover{background-color:#222 !important}
.table td, .table th{vertical-align:middle}
/* Prevent nowrap issues on date inside deleted users column */
.deleted-date{white-space: nowrap}
/* Keep entire last column content on one line in Eliminados */
/* Prevent wrapping in Acciones column */
.lup-table-usuarios-eliminados tbody td:nth-child(5){white-space: nowrap}
/* Prevent flex container from wrapping in Acciones column */
.lup-table-usuarios-eliminados tbody td:nth-child(5) .d-inline-flex{flex-wrap: nowrap}
/* Links/buttons inside tables now white */
.table a, .table .btn-link{color:#ffffff}
.table a:hover, .table .btn-link:hover{color:#ffffff}
/* Force white for secondary/muted text inside tables and empty state rows */
.table .text-secondary, .table .text-muted{color:#ffffff !important}
tr[data-ref="row-empty"] td{color:#ffffff !important}

/* Usuarios: fuerza texto blanco en la tabla (fondo oscuro) */
.lup-table-usuarios,
.lup-table-usuarios thead th,
.lup-table-usuarios tbody td{
  color:#ffffff !important;
}

/* Global: todas las tablas del admin con clase .lup-table deben tener texto blanco */
.lup-table,
.lup-table thead th,
.lup-table tbody td{
  color:#ffffff !important;
}

/* ========== Utilities ========== */
.min-vh-100{min-height:100vh!important}
.small.text-secondary{color:#ffffff!important}
.text-muted{color:#ffffff!important}

/* ========== Responsive Tables (stacked on mobile) ========== */
@media (max-width: 575.98px){
  .lup-table thead{display:none}
  .lup-table tbody tr{
    display:block;
    margin-bottom: .75rem;
    border:1px solid var(--border);
    border-radius: .75rem;
    background: var(--card);
    box-shadow: 0 1px 1px rgba(0,0,0,.3);
    overflow:hidden;
  }
  .lup-table tbody tr td{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:.75rem;
    padding:.5rem .75rem;
    border-bottom:1px solid var(--border);
  }
  .lup-table tbody tr td:last-child{border-bottom:none}
  .lup-table tbody tr td::before{
    content: attr(data-label);
    font-weight:600;
    color:#e5e7eb;
  }
  .lup-table .text-end{justify-content:space-between}

  /* Productos labels */
  .lup-table-productos-activos tbody tr td:nth-child(1){--label:"Código"}
  .lup-table-productos-activos tbody tr td:nth-child(2){--label:"Nombre"}
  .lup-table-productos-activos tbody tr td:nth-child(3){--label:"Categoría"}
  .lup-table-productos-activos tbody tr td:nth-child(4){--label:"Precio"}
  .lup-table-productos-activos tbody tr td:nth-child(5){--label:"Stock"}
  .lup-table-productos-activos tbody tr td:nth-child(6){--label:"Acciones"}
  .lup-table-productos-activos tbody tr td{position:relative}
  .lup-table-productos-activos tbody tr td::before{content: var(--label)}

  .lup-table-productos-eliminados tbody tr td:nth-child(1){--label:"Código"}
  .lup-table-productos-eliminados tbody tr td:nth-child(2){--label:"Nombre"}
  .lup-table-productos-eliminados tbody tr td:nth-child(3){--label:"Categoría"}
  .lup-table-productos-eliminados tbody tr td:nth-child(4){--label:"Eliminado el"}
  .lup-table-productos-eliminados tbody tr td:nth-child(5){--label:"Acciones"}
  .lup-table-productos-eliminados tbody tr td{position:relative}
  .lup-table-productos-eliminados tbody tr td::before{content: var(--label)}

  /* Usuarios labels (activos y eliminados) */
  /* Activos: RUN, Nombre, Apellidos, Correo, Perfil, Descuento, Acciones */
  .lup-table-usuarios-activos tbody tr td:nth-child(1){--label:"RUN"}
  .lup-table-usuarios-activos tbody tr td:nth-child(2){--label:"Nombre"}
  .lup-table-usuarios-activos tbody tr td:nth-child(3){--label:"Apellidos"}
  .lup-table-usuarios-activos tbody tr td:nth-child(4){--label:"Correo"}
  .lup-table-usuarios-activos tbody tr td:nth-child(5){--label:"Perfil"}
  .lup-table-usuarios-activos tbody tr td:nth-child(6){--label:"Descuento"}
  .lup-table-usuarios-activos tbody tr td:nth-child(7){--label:"Acciones"}
  .lup-table-usuarios-activos tbody tr td{position:relative}
  .lup-table-usuarios-activos tbody tr td::before{content: var(--label)}

  /* Eliminados: RUN, Correo, Perfil, Eliminado el, Acciones */
  .lup-table-usuarios-eliminados tbody tr td:nth-child(1){--label:"RUN"}
  .lup-table-usuarios-eliminados tbody tr td:nth-child(2){--label:"Correo"}
  .lup-table-usuarios-eliminados tbody tr td:nth-child(3){--label:"Perfil"}
  .lup-table-usuarios-eliminados tbody tr td:nth-child(4){--label:"Eliminado el"}
  .lup-table-usuarios-eliminados tbody tr td:nth-child(5){--label:"Acciones"}
  .lup-table-usuarios-eliminados tbody tr td{position:relative}
  .lup-table-usuarios-eliminados tbody tr td::before{content: var(--label)}

  /* Mensajes labels */
  .lup-table-mensajes tbody tr td:nth-child(1){--label:"Fecha"}
  .lup-table-mensajes tbody tr td:nth-child(2){--label:"Nombre"}
  .lup-table-mensajes tbody tr td:nth-child(3){--label:"Correo"}
  .lup-table-mensajes tbody tr td:nth-child(4){--label:"Asunto"}
  .lup-table-mensajes tbody tr td:nth-child(5){--label:"Estado"}
  .lup-table-mensajes tbody tr td:nth-child(6){--label:"Acciones"}
  .lup-table-mensajes tbody tr td{position:relative}
  .lup-table-mensajes tbody tr td::before{content: var(--label)}

  /* Categorías labels */
  .lup-table-categorias-activas tbody tr td:nth-child(1){--label:"Nombre"}
  .lup-table-categorias-activas tbody tr td:nth-child(2){--label:"Acciones"}
  .lup-table-categorias-activas tbody tr td{position:relative}
  .lup-table-categorias-activas tbody tr td::before{content: var(--label)}

  .lup-table-categorias-eliminadas tbody tr td:nth-child(1){--label:"Nombre"}
  .lup-table-categorias-eliminadas tbody tr td:nth-child(2){--label:"Eliminada el"}
  .lup-table-categorias-eliminadas tbody tr td:nth-child(3){--label:"Acciones"}
  .lup-table-categorias-eliminadas tbody tr td{position:relative}
  .lup-table-categorias-eliminadas tbody tr td::before{content: var(--label)}

  /* Direcciones (usuario) labels */
  .lup-table-direcciones tbody tr td:nth-child(1){--label:"Nombre"}
  .lup-table-direcciones tbody tr td:nth-child(2){--label:"Dirección"}
  .lup-table-direcciones tbody tr td:nth-child(3){--label:"Ciudad"}
  .lup-table-direcciones tbody tr td:nth-child(4){--label:"Región"}
  .lup-table-direcciones tbody tr td:nth-child(5){--label:"Principal"}
  .lup-table-direcciones tbody tr td:nth-child(6){--label:"Acciones"}
  .lup-table-direcciones tbody tr td{position:relative}
  .lup-table-direcciones tbody tr td::before{content: var(--label)}
}

/* ========== Offcanvas (mobile menu) ========== */
.offcanvas-start{
  width: 260px; /* align with desktop sidebar */
}

/* Offcanvas dark styling */
.offcanvas,
.offcanvas-header{
  background: var(--sidebar-bg);
  color: var(--fg);
}
.offcanvas .btn-close{filter: invert(1)}
.offcanvas .nav-link{color:#ffffff}
.offcanvas .nav-link:hover{color:#ffffff; background:#2a2a2a; border-radius:.5rem}
/* En offcanvas, la lista hace scroll y deja los botones de abajo siempre accesibles */
.offcanvas-body{display:flex; flex-direction:column}
.offcanvas-body > ul.nav{flex:1 1 auto; overflow:auto}

/* Improve touch targets on small screens */
@media (max-width: 575.98px){
  .lup-sidebar .nav-link,
  .offcanvas .nav-link{
    padding:.625rem .875rem;
    font-size: 0.98rem;
  }
  .lup-logo{height:40px}
}
